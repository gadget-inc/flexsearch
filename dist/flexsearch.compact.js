/**!
 * FlexSearch.js v0.7.0
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/flexsearch
 */
(function(){'use strict';Object.assign||(Object.assign=function(){for(var a=arguments,b=a.length,c=a[0],d=1,e,g,f;d<b;d++){e=a[d];g=Object.keys(e);f=g.length;for(var h=0,k;h<f;h++)k=g[h],c[k]=e[k]}return c});window.requestAnimationFrame||(window.requestAnimationFrame=window.setTimeout);window.cancelAnimationFrame||(window.cancelAnimationFrame=window.clearTimeout);window.Promise||(window.Promise=function(){function a(b){this.a=null;var c=this;b(function(d){c.a&&(c.a(d),c.a=null)})}a.prototype.then=function(b){this.a=b};return a}());function q(a){return"string"===typeof a}function y(a){return a.constructor===Array}function A(a){return"object"===typeof a}function C(a){for(var b=Array(a),c=0;c<a;c++)b[c]=F();return b}function F(){return Object.create(null)}function H(a,b){for(var c=0,d=b.length;c<d&&(a=a.replace(b[c],b[c+1]),a);c+=2);return a}function I(a){return new RegExp(a,"g")}function J(a){for(var b="",c="",d=0,e=a.length,g=void 0;d<e;d++)(g=a[d])!==c&&(b+=c=g);return b}
function L(a,b,c,d){if(b&&(c&&b&&(b=H(b,c)),b&&a.j&&(b=H(b,a.j)),a.l&&1<b.length&&(b=H(b,a.l)),b&&(d||""===d)&&(b=b.split(d),a.filter))){a=a.filter;c=b.length;d=[];for(var e=0,g=0;e<c;e++){var f=b[e];f&&!a[f]&&(d[g++]=f)}b=d}return b};var N={memory:{charset:"latin:extra",threshold:0,b:1},speed:{threshold:1,b:3,depth:2},match:{charset:"latin:extra",m:"full",threshold:1,b:3},score:{charset:"latin:extra",threshold:1,b:9,depth:4},balance:{charset:"latin:balance",threshold:0,b:3,depth:3},fast:{threshold:8,b:9,depth:1}};var aa={encode:P,c:!1},ba=/[\W_]+/;function P(a){return L(this,a.toLowerCase(),!1,ba)};var ca=0,da={},Q={};function S(a){if(!(this instanceof S))return new S(a);var b=a&&a.id;this.id=b||0===b?b:ca++;this.init(a);ea(this,"index",function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].f):Object.keys(this.f)});ea(this,"length",function(){return this.index.length})}S.registerCharset=function(a,b){Q[a]=b;return S};S.registerLanguage=function(a,b){da[a]=b;return S};
S.prototype.init=function(a){var b;if(a)if(q(a))a=N[a];else if(b=a.preset)a=Object.assign({},N[b],a);a||(a={});this.async=a.async;var c=a.charset,d=a.lang;q(c)&&(-1===c.indexOf(":")&&(c+=":default"),c=Q[c]);q(d)&&(d=da[d]);this.o=b=c&&c.m||a.tokenize||"strict";this.depth="strict"===b&&a.depth||0;this.c=c&&c.c||a.rtl||!1;this.b=a.resolution||9;this.threshold=b=a.threshold||0;this.b<=b&&(this.b=b+1);this.encode=a.encode||c&&c.encode||P;this.j=(b=a.matcher||d&&d.j)&&fa(b,!1);this.l=(b=a.stemmer||d&&
d.l)&&fa(b,!0);if(c=b=a.filter||d&&d.filter){c=b;d=F();var e=0;for(var g=c.length;e<g;e++)d[c[e]]=1;c=d}this.filter=c;(this.a=e=(b=a.doc)&&ha(b))&&(a.doc=null);this.i=C(this.b-this.threshold);this.g=F();this.f=F();if(e){this.h=F();b=e.index={};c=e.keys=[];d=e.field;g=e.store;y(e.id)||(e.id=e.id.split(":"));if(g){var f=F();if(q(g))f[g]=1;else if(y(g))for(var h=0;h<g.length;h++)f[g[h]]=1;else A(g)&&(f=g);e.store=f}if(d){if(!y(d))if(A(d)){var k=d;e.field=d=Object.keys(d)}else e.field=d=[d];for(e=0;e<
d.length;e++)g=d[e],y(g)||(k&&(a=k[g]),c[e]=g,d[e]=g.split(":")),b[g]=new S(a)}}return this};function ha(a){var b=F(),c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];b[c]=y(d)?d.slice(0):A(d)?ha(d):d}return b}
S.prototype.add=function(a,b,c,d,e){if(this.a&&A(a))return T(this,"add",a,b);if(b&&q(b)&&(a||0===a)){if(this.f[a]&&!d)return this.update(a,b);if(!e){if(this.async){var g=this,f=new Promise(function(O){setTimeout(function(){g.add(a,b,null,d,!0);g=null;O()})});if(c)f.then(c);else return f;return this}if(c)return this.add(a,b,null,d,!0),c(),this}b=this.encode(b);if(!b.length)return this;c=b;e=F();e._ctx=F();for(var h=c.length,k=this.threshold,p=this.depth,m=this.b,l=this.i,n=this.c,t=0;t<h;t++){var u=
c[t];if(u){f=1;var w=u.length,r=(n?t+1:h-t)/h,v="";switch(this.o){case "reverse":case "both":for(var x=w;--x;)v=u[x]+v,U(l,e,v,a,n?1:(w-x)/w,r,k,m-1);v="";case "forward":for(x=0;x<w;x++)v+=u[x],U(l,e,v,a,n?(x+1)/w:1,r,k,m-1);break;case "full":for(x=0;x<w;x++)for(var K=(n?x+1:w-x)/w,B=w;B>x;B--)v=u.substring(x,B),U(l,e,v,a,K,r,k,m-1);break;default:if(w=U(l,e,u,a,1,r,k,m-1),p&&1<h&&w>=k)for(w=e._ctx[u]||(e._ctx[u]=F()),u=this.g[u]||(this.g[u]=C(m-(k||0))),r=t-p,v=t+p+1,0>r&&(r=0),v>h&&(v=h);r<v;r++)r!==
t&&U(u,w,c[r],a,0,m-(r<t?t-r:r-t),k,m-1)}}}f&&(this.f[a]=1)}return this};
function T(a,b,c,d){if(y(c)){var e=c.length;if(e)for(var g=0;g<e;g++)T(a,b,c[g],g===e-1&&d)}else{var f=a.a.index,h=a.a.keys,k=a.a.tag;g=a.a.store;var p;var m=a.a.id;e=c;for(var l=0;l<m.length;l++)e=e[m[l]];if("remove"===b){if(delete a.h[e],c=h.length)for(g=0;g<c;g++)f[h[g]].remove(e,g===c-1&&d)}else{if(k){for(p=0;p<k.length;p++){var n=k[p];var t=c;m=n.split(":");for(l=0;l<m.length;l++)t=t[m[l]];t="@"+t}p=a.s[n];p=p[t]||(p[t]=[])}m=a.a.field;k=0;for(n=m.length;k<n;k++){l=m[k];t=c;for(var u=0;u<l.length;u++)t=
t[l[u]];l=f[h[k]];"add"===b?l.add(e,t,k===n-1&&d):l.update(e,t,k===n-1&&d)}if(g){d=Object.keys(g);b=F();for(f=0;f<d.length;f++)if(h=d[f],g[h])for(h=h.split(":"),k=m=void 0,n=0;n<h.length;n++)t=h[n],m=(m||c)[t],k=(k||b)[t]=m;c=b}p&&(p[p.length]=c);a.h[e]=c}}return a}S.prototype.update=function(a,b,c){if(this.a&&A(a))return T(this,"update",a,b);this.f[a]&&q(b)&&(this.remove(a),this.add(a,b,c,!0));return this};
S.prototype.remove=function(a,b,c){if(this.a&&A(a))return T(this,"remove",a,b);if(this.f[a]){if(!c){if(this.async&&"function"!==typeof importScripts){var d=this;c=new Promise(function(e){setTimeout(function(){d.remove(a,null,!0);d=null;e()})});if(b)c.then(b);else return c;return this}if(b)return this.remove(a,null,!0),b(),this}for(b=0;b<this.b-(this.threshold||0);b++)W(this.i[b],a);this.depth&&W(this.g,a);delete this.f[a]}return this};var X;
function Y(a,b,c,d,e,g,f,h){c=ia(c,e,!1,b,f,h);if(g){g=c.page;var k=c.next;c=c.result}b=c;a=a.h;c=b.length;e=Array(c);for(f=0;f<c;f++)e[f]=a[b[f]];c=e;d&&("function"!==typeof d&&(X=d.split(":"),d=1<X.length?ja:ka),c.sort(d));return c=Z(g,k,c)}
S.prototype.search=function(a,b,c,d){if(A(b)){if(y(b))for(var e=0;e<b.length;e++)b[e].query=a;else b.query=a;a=b;b=1E3}else b&&"function"===typeof b?(c=b,b=1E3):b||0===b||(b=1E3);var g=[],f=a;if(A(a)&&!y(a)){c||(c=a.callback)&&(f.callback=null);var h=a.sort;var k=!1;b=a.limit;var p=a.threshold;var m=!1;a=a.query}if(this.a){p=this.a.index;var l=f.bool||"or";m=f.field;var n=l,t,u;if(m)y(m)||(m=[m]);else if(y(f)){var w=f;m=[];n=[];for(var r=0;r<f.length;r++){var v=f[r];a=v.bool||l;m[r]=v.field;n[r]=
a;"not"===a?t=!0:"and"===a&&(u=!0)}}else m=this.a.keys;l=m.length;for(r=0;r<l;r++)w&&(f=w[r]),k&&!q(f)&&(f.page=null,f.limit=0),g[r]=p[m[r]].search(f,0);if(c)return c(Y(this,n,g,h,b,k,u,t));if(this.async){var x=this;return new Promise(function(V){Promise.all(g).then(function(oa){V(Y(x,n,oa,h,b,k,u,t))})})}return Y(this,n,g,h,b,k,u,t)}p||(p=this.threshold||0);if(!d){if(this.async&&"function"!==typeof importScripts){var K=this;p=new Promise(function(V){setTimeout(function(){V(K.search(f,b,null,!0));
K=null})});if(c)p.then(c);else return p;return this}if(c)return c(this.search(f,b,null,!0)),this}if(!a||!q(a))return g;f=a;f=this.encode(f);if(!f.length)return g;c=f;w=c.length;a=!0;d=[];e=F();var B=0;1<w&&(this.depth?l=!0:c.sort(la));if(!l||(r=this.g))for(var O=this.b;B<w;B++){var z=c[B];if(z){if(l){if(!v)if(r[z])v=z,e[z]=1;else if(!m)return g;if(m&&B===w-1&&!d.length)l=!1,z=v||z,e[z]=0;else if(!v)continue}if(!e[z]){var G=[],D=!1,M=0;if(v=l?r[v]:this.i)for(var R=void 0,E=0;E<O-p;E++)if(R=v[E]&&v[E][z])G[M++]=
R,D=!0;if(D)v=z,d[d.length]=1<M?G.concat.apply([],G):G[0];else{a=!1;break}e[z]=1}}}else a=!1;a&&(g=ia(d,b,k));return g};S.prototype.clear=function(){return this.destroy().init()};S.prototype.destroy=function(){this.i=this.g=this.f=null;if(this.a){for(var a=this.a.keys,b=0;b<a.length;b++)this.a.index[a[b]].destroy();this.a=this.h=null}return this};function ea(a,b,c){Object.defineProperty(a,b,{get:c})}
function U(a,b,c,d,e,g,f,h){if(b[c])return b[c];e=e?(h-(f||h/1.5))*g+(f||h/1.5)*e:g;b[c]=e;e>=f&&(a=a[h-(e+.5>>0)],a=a[c]||(a[c]=[]),a[a.length]=d);return e}function W(a,b){if(a)for(var c=Object.keys(a),d=0,e=c.length;d<e;d++){var g=c[d],f=a[g];if(f)for(var h=0,k=f.length;h<k;h++)if(f[h]===b){1===k?delete a[g]:f.splice(h,1);break}else A(f[h])&&W(f[h],b)}}
function fa(a,b){for(var c=Object.keys(a),d=c.length,e=[],g="",f=0,h=0,k;h<d;h++){var p=c[h];(k=a[p])?(e[f++]=I(b?"(?!\\b)"+p+"(\\b|_)":p),e[f++]=k):g+=(g?"|":"")+p}g&&(e[f++]=I(b?"(?!\\b)("+g+")(\\b|_)":"("+g+")"),e[f]="");return e}function la(a,b){return b.length-a.length}function ka(a,b){a=a[X];b=b[X];return a<b?-1:a>b?1:0}function ja(a,b){for(var c=X.length,d=0;d<c;d++)a=a[X[d]],b=b[X[d]];return a<b?-1:a>b?1:0}function Z(a,b,c){return a?{page:a,next:b?""+b:null,result:c}:c}
function ia(a,b,c,d,e,g){var f=[];if(!0===c){c="0";var h=""}else h=c&&c.split(":");var k=a.length;if(1<k){var p=F(),m,l=0,n,t=!0,u=0,w;h&&(2===h.length?h=!1:h=w=parseInt(h[0],10));if(g){for(m=F();l<k;l++)if("not"===d[l]){var r=a[l];var v=r.length;for(n=0;n<v;n++)m["@"+r[n]]=1}else var x=l+1;if("undefined"===typeof x)return Z(c,E,f);l=0}else var K=q(d)&&d;for(var B;l<k;l++){var O=l===(x||k)-1;if(!K||!l)if((n=K||d&&d[l])&&"and"!==n)if("or"===n)B=!1;else continue;else B=e=!0;r=a[l];if(v=r.length){if(t)if(D){t=
D.length;for(n=0;n<t;n++){var z=D[n];var G="@"+z;g&&m[G]||(p[G]=1,e||(f[u++]=z))}var D=null;t=!1}else{D=r;continue}G=!1;for(n=0;n<v;n++){z=r[n];var M="@"+z,R=e?p[M]||0:l;if(!(!R||g&&m[M]||!e&&p[M])&&R===l){if(O){if(!w||--w<u)if(f[u++]=z,b&&u===b)return Z(c,u+(h||0),f)}else p[M]=l+1;G=!0}}if(B&&!G)break}else if(B)return Z(c,E,r)}if(D)if(a=D.length,g)for(n=h?parseInt(h,10):0;n<a;n++)g=D[n],m["@"+g]||(f[u++]=g);else f=D}else!k||d&&"not"===d[0]||(f=a[0],h&&(h=parseInt(h[0],10)));if(b){m=f.length;h&&h>
m&&(h=0);h=h||0;var E=h+b;E<m?f=f.slice(h,E):(E=0,h&&(f=f.slice(h)))}return Z(c,E,f)};var na={encode:ma,c:!1},pa=/[\W_]+/,qa=[I("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]"),"a",I("[\u00e8\u00e9\u00ea\u00eb]"),"e",I("[\u00ec\u00ed\u00ee\u00ef]"),"i",I("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]"),"o",I("[\u00f9\u00fa\u00fb\u00fc\u0171]"),"u",I("[\u00fd\u0177\u00ff]"),"y",I("\u00f1"),"n",I("[\u00e7c]"),"k",I("\u00df"),"s",I(" & ")," and "];function ma(a,b){return L(b||this,a.toLowerCase(),qa,pa)};var ra=[I("ae"),"a",I("ai"),"ei",I("ay"),"ei",I("ey"),"ei",I("oe"),"o",I("ue"),"u",I("ie"),"i",I("sz"),"s",I("zs"),"s",I("sh"),"s",I("ck"),"k",I("cc"),"k",I("th"),"t",I("dt"),"t",I("ph"),"f",I("pf"),"f",I("ou"),"o",I("uo"),"u"];function sa(a,b,c){a&&(a=ma(a,b||this).join(" "),2<a.length&&(a=H(a,ra)),c||(1<a.length&&(a=J(a)),a&&(a=a.split(" "))));return a};var ua={encode:ta,c:!1},va=/[\W_]+/;function ta(a){return L(this,a.toLowerCase(),!1,va)};var xa={encode:wa,c:!1},ya=[I("(?!\\b)p"),"b",I("(?!\\b)z"),"s",I("(?!\\b)[cgq]"),"k",I("(?!\\b)n"),"m",I("(?!\\b)d"),"t",I("(?!\\b)[vw]"),"f",I("(?!\\b)[aeiouy]"),""];function wa(a){a&&(a=sa(a,this,!0),1<a.length&&(a=H(a,ya)),1<a.length&&(a=J(a)),a&&(a=a.split(" ")));return a};var Aa={encode:za,c:!1,m:"strict"},Ba=/[^a-z]+/;function za(a){a=L(this,a.toLowerCase(),!1,!1);var b=[];if(a)for(var c=a.split(Ba),d=c.length,e=0,g=0;e<d;e++)if((a=c[e])&&2<a.length&&(!this.filter||!this.filter[a])){for(var f=a[0],h=Ca(f),k=1;k<a.length;k++){var p=Ca(a[k]);if(p!==h&&(f+=p,h=p,4===f.length))break}b[g++]=(f+"0000").substring(0,4)}return b}
function Ca(a){switch(a){case "b":case "f":case "p":case "v":return 1;case "c":case "g":case "j":case "k":case "q":case "s":case "x":case "z":return 2;case "d":case "t":return 3;case "l":return 4;case "m":case "n":return 5;case "r":return 6}return""};var Ea={encode:Da,c:!0},Fa=/[\x00-\x7F]+/g;function Da(a){return L(this,a.replace(Fa," "),!1," ")};var Ha={encode:Ga,c:!1,m:"strict"},Ia=/[\x00-\x7F]+/g;function Ga(a){return L(this,a.replace(Ia,""),!1,"")};var Ka={encode:Ja,c:!1},La=/[\x00-\x7F]+/g;function Ja(a){return L(this,a.replace(La," "),!1," ")};Q["latin:advanced"]={encode:sa,c:!1};Q["latin:balance"]=ua;Q["latin:default"]=aa;Q["latin:extra"]=xa;Q["latin:simple"]=na;Q["latin:soundex"]=Aa;Q["arabic:default"]=Ea;Q["cjk:default"]=Ha;Q["cyrillic:default"]=Ka;(function(){var a=this||window,b;(b=a.define)&&b.amd?b([],function(){return S}):"object"===typeof a.exports?a.module.exports=S:a.FlexSearch=S})();}).call(this);
